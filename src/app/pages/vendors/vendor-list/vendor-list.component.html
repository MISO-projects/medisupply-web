<div class="vendor-list-container">
  <div class="header">
    <h1 class="title">Vendedores</h1>
    <button mat-flat-button color="primary">
      <mat-icon>add</mat-icon>
      Crear
    </button>
  </div>

  <!-- Estado de carga -->
  @if (isLoading) {
    <div class="loading">Cargando vendedores...</div>
  }

  <!-- Mensaje de error -->
  @if (error) {
    <div class="error">{{ error }}</div>
  }

  <!-- Tabla de vendedores con Angular Material -->
  @if (!isLoading && !error) {
    <table mat-table [dataSource]="vendedores" class="vendors-table">

      <!-- Columna: Nombre -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef>Nombre</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.nombre }}</td>
      </ng-container>

      <!-- Columna: Documento -->
      <ng-container matColumnDef="documento_identidad">
        <th mat-header-cell *matHeaderCellDef>Documento de identidad</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.documento_identidad }}</td>
      </ng-container>

      <!-- Columna: Email -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Correo corporativo</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.email }}</td>
      </ng-container>

      <!-- Columna: Zona Asignada -->
      <ng-container matColumnDef="zona_asignada">
        <th mat-header-cell *matHeaderCellDef>Zona Asignada</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.zona_asignada }}</td>
      </ng-container>

      <!-- Columna: Plan de Venta -->
      <ng-container matColumnDef="plan_venta">
        <th mat-header-cell *matHeaderCellDef>Plan de Venta</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.plan_venta }}</td>
      </ng-container>

      <!-- Columna: Meta de Venta -->
      <ng-container matColumnDef="meta_venta">
        <th mat-header-cell *matHeaderCellDef>Meta de Venta</th>
        <td mat-cell *matCellDef="let vendedor">{{ vendedor.meta_venta | currency:'USD':'symbol':'1.2-2' }}</td>
      </ng-container>

      <!-- Definir las columnas a mostrar -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Mensaje cuando no hay datos -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
          No hay vendedores registrados
        </td>
      </tr>
    </table>
  }
</div>
